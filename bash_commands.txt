###ADC###
export GOOGLE_APPLICATION_CREDENTIALS=service_account_key.json
###iot_devices.py###
python iot_devices.py --project=vijays-sandbox

###streaming_count.py###
python streaming_count.py \
	--input_topic taxi_rides \
	--project=vijays-sandbox

python streaming_count.py \
	--input_topic taxi_rides \
	--runner=DataflowRunner \
	--project=vijays-sandbox \
	--temp_location=gs://vijays-sandbox/dataflow_streaming

###BQ TABLE SCHEMA###
[
    {
        "name": "trips_last_5min",
        "type": "INTEGER",
        "mode": "REQUIRED"
    },
    {
        "name": "time",
        "type": "TIMESTAMP",
        "mode": "REQUIRED"
    }
]

###BQ DELETE OLD DATA###
DELETE
FROM
  `taxifare.traffic_realtime`
WHERE
  TIMESTAMP_DIFF(CURRENT_TIMESTAMP,time,HOUR) > 12